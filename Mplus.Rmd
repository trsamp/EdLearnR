---
title: "SEM with Lavaan"
output:
  html_document:
    toc: true
    toc_float: true
    collapsed: false
    number_sections: false
    toc_depth: 1
    #code_folding: hide
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(message=FALSE,warning=FALSE, cache=TRUE)
```

IMPORTANT: You can delete everything in here and start fresh. You might want to start by not deleting anything above this line until you know what that stuff is doing.


This is an .Rmd file. It is plain text with special features. Any time you write just like this, it will be compiled to normal text in the website. If you put a \# in front of your text, it will create a top level-header.

# 

Last compiled: `r Sys.Date()`

# Confirmatory Factor Analysis

การวิเคราะห์องค์ประกอบ

```{r}
install.packages("foreign", dependencies=TRUE)
install.packages("lavaan", dependencies=TRUE)
library(foreign) 
library(lavaan)

dat <- read.spss("C:/Users/thomr/OneDrive/Desktop/R/t400.sav", to.data.frame = TRUE, use.value.labels = FALSE)

round(cor(dat[,4:8]),2)
round(cov(dat[,4:8]),2)

#one factor three items, default marker method
model  <- ' env  =~ lead + inno + team + pscse + diver'
t400 <- cfa(model, data=dat,std.lv=TRUE) 
summary(t400, fit.measure=TRUE, standardized=TRUE)


```
